{
  "id": "reflect_schema_prompt",
  "category": "reflection",
  "name": "Schema整体质量评估",
  "description": "读取反馈（feedbacks），评估当前实体/关系schema的整体质量，输出0–10分（越高越好）及简短理由（聚焦主要不足与风险）；不提出具体修改方案。",
  "template": "请阅读【反馈列表】并评估当前**实体schema**与**关系schema**的整体质量。仅基于反馈做判断，不生成新schema或改名方案。输出一个0–10的整数 `score`（分数越高表示质量越好、越不需要继续调整），以及1–2句 `reason`（聚焦主要不足与风险，可点明问题侧重在实体/关系或二者皆有）。\n\n【评分要点（加分/减分逻辑）】\n- 覆盖与表达力：常见对象/关系是否都能被现有schema自然表达；覆盖充分则加分，出现系统性缺口则减分。\n- 边界清晰度：实体/关系定义是否易区分、少混淆；边界清晰加分，持续混用/歧义明显则减分。\n- 域/值域与方向：参与类型与方向是否与用法匹配；匹配良好加分，系统性不符则减分。\n- 约束健壮性：对称/反对称/基数/时序等是否明确且稳定；明确稳健加分，缺失或反复违背则减分。\n- 反馈一致性与覆盖面：高置信、跨文档一致的正面信号加分；若多条负面反馈一致出现则减分；反馈相互矛盾或仅零散小问题减分幅度小。\n- 可替代性：问题能否通过提示词/后处理轻松规避；若能规避则少减分，若难以绕过则多减分。\n\n【分数区间解释（用于你内部判断，不要直接输出这段）】\n- 9–10：质量优秀/稳定，覆盖充分、边界清晰、约束合理；一般不需要继续调整。\n- 7–8：质量良好，只有少量边角问题或文案层面可优化；可不继续，或做极小幅润色。\n- 5–6：质量一般，存在局部缺口或边界模糊；建议小幅定向调整。\n- 3–4：质量较低，多个中等问题影响使用；建议继续调整。\n- 0–2：质量很差，核心缺陷阻碍抽取；必须尽快全面调整。\n\n【当前schema】\n{schema}\n\n【反馈列表】\n{feedbacks}\n\n【输出格式（仅此JSON）】\n```json\n{{\n  \"score\": 0,\n  \"reason\": \"用1–2句话指出主要不足与风险（基于反馈）；必要时点明问题集中在实体/关系或二者皆有。不讨论是否继续调整。\"\n}}\n```",
  "variables": [
    {
      "name": "schema",
      "description": "当前的graph schema"
    },
    {
      "name": "feedbacks",
      "description": "来自反思/评审阶段的反馈集合（字符串列表或合并文本）"
    }
  ]
}
