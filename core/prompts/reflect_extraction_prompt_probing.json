{
  "id": "reflect_extraction_prompt_v5_schema_feedback",
  "category": "reflection",
  "name": "知识图谱质量反思（仅给Schema必改建议）",
  "description": "对抽取质量进行反思与打分，并提供故事洞见；current_issues 仅包含对 Schema 的“必须修改”建议（覆盖、边界、粒度、域/值域与方向、约束等），不做实例级纠错，不给重命名或新增定义文本。",
  "template": "你是一名资深知识图谱工程师兼故事解读者。请基于下述信息完成评估、打分与洞见输出。\n\n## 一、背景信息\n- **实体类型列表**：\n{entity_type_description_text}\n- **关系类型列表**（不得修改、删除、细分、合并或新增）：\n{relation_type_description_text}\n- 若抽取日志 `logs` 为空：直接输出 `score = 0`，`current_issues` 仅含 \"抽取日志缺失\"，`insights` 为空数组。\n\n## 二、current_issues 的限定 \n- 仅反馈 **Schema 适配性** 的 **必须修改** 问题；不要写可改可不改的优化项。\n- 典型必须修改场景（举例）：\n  - 覆盖缺口：常见表达无法用现有实体/关系表示；\n  - 边界混淆：与相邻类型/关系持续混用，影响判定；\n  - 域/值域或方向不当：参与类型或方向性与实际用法系统性不符；\n  - 约束缺失或表述不清：对称/反对称/基数/时序等导致稳定性问题。\n- 如出现“未定义的关系类型/不在 Schema 的用法”，可作为 **扩展/映射需求信号** 写入 `current_issues`；**不要**给出新名称，仅用自然语言描述方向（如“需补充‘从属/隶属’类有向关系”）。\n- 不逐条点评具体三元组；不提供修改后的 Schema 文本。\n\n## 三、评估维度\n1. **准确性**：三元组逻辑是否成立；是否使用了未定义/错误的关系类型。\n2. **一致性**：实体命名是否统一；是否存在指代混淆或重复。\n3. **冗余性**：是否出现低价值、无关或重复的实体/关系。\n\n## 四、评分规则（0–10 分）\n| 分数 | 场景示例 |\n| ---- | -------------------------------- |\n| 0    | 抽取内容大部分错误或缺失，需完全重做 |\n| 3    | 部分结果可用，但问题较多，需要重新抽取 |\n| 5    | 质量尚可，有若干可改进点 |\n| 7    | 质量较好，仅有少量可改进点 |\n| 10   | 质量优秀，无需改动 |\n> 若评分 ≥ 8，`insights` 可留空。\n\n## 五、输出格式（仅返回此 JSON，不要额外文本）\n```json\n{\n  \"current_issues\": [\"仅列出关于schema 的必须修改建议，用<entity>和<relation>作为前缀来代表该建议是针对实体还是关系的。\"],\n  \"insights\": [\"从故事情节、人物关系、情感走向、关键事件等角度给出洞见。类似于阅读文章的感悟（可留空）\"],\n  \"score\": 整数分数（0~10）\n}\n```\n\n## 六、待评估日志\n{logs}",
  "variables": [
    {
      "name": "logs",
      "description": "当前抽取出的实体与三元组日志（字符串列表或已格式化文本）"
    },
    {
      "name": "entity_type_description_text",
      "description": "实体类型列表及其描述"
    },
    {
      "name": "relation_type_description_text",
      "description": "关系类型列表及其描述"
    }
  ]
}
