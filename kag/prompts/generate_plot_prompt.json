{
  "id": "generate_plot_prompt",
  "category": "regular_function",
  "name": "事件链构成情节判断提示词（结构化版）",
  "description": "用于判断一组事件是否能构成一个完整的情节单元，并输出结构化的情节信息，适用于剧本/小说的情节抽取任务。",
  "template": "你是一位叙事结构分析专家，任务是判断一组事件是否构成一个完整的情节单元（plot），并在构成时提取该情节的核心信息。如果输入为单个事件，则根据该事件的完整信息判断其是否能独立支撑一个情节单元。\n\n请分析以下事件链：\n\n{event_chain_info}\n\n---\n\n## 判断标准：\n请基于以下标准进行判断：\n1. **时间连贯**：事件之间的发生顺序合理且连续；\n2. **角色一致或相关**：事件主角为同一人或存在关联；\n3. **目标或冲突驱动**：事件围绕某个目标、任务或冲突展开；\n4. **因果/动机关系**：事件之间具有因果、动机或情境推进关系；\n5. **具备情节结构**：能形成一段有起承转合或具有叙事闭合性的片段。\n\n---\n\n## 输出格式（严格遵循）\n请以如下 JSON 格式输出判断与提取结果：\n\n```json\n{\n  \"is_plot\": true 或 false,\n  \"reason\": \"简要说明判断理由，控制在3-5句话内\",\n  \"plot_info\": {\n    \"title\": \"为该情节生成一个简洁的标题，用于标识该plot（不超过20字）\",\n    \"summary\": \"若构成情节，用50-150字完整描述该情节的主要内容\",\n    \"main_characters\": [\"角色A\", \"角色B\"],\n    \"locations\": [\"地点A\", \"地点B\"],\n    \"time\": \"该情节发生的大致时间范围描述，如‘爆炸后一小时内’、‘任务开始前夕’等\"\n  }\n}\n```\n\n说明：\n- 若 `is_plot` 为 `false`，`plot_info` 返还空字典；\n- `title` 字段用于构造情节的简要名称，可作为实体的 name 字段使用；\n- 严格返回 JSON 对象，不要输出任何自然语言解释、前缀或注释。",
  "variables": [
    {
      "name": "event_chain_info",
      "description": "由若干事件组成的有序事件链文本，建议每个事件包含时间、参与者、地点、动作、结果等关键信息"
    }
  ]
}
